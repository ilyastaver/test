{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React from\"react\";import View from\"react-native-web/dist/exports/View\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Text from\"react-native-web/dist/exports/Text\";import TouchableHighlight from\"react-native-web/dist/exports/TouchableHighlight\";import Image from\"react-native-web/dist/exports/Image\";import ShowAvatar from\"../Avatar/ShowAvatar/showAvatar\";import DeleteSvg from\"../../assets/icons/deleteSvg\";import useStyles from\"./searchBodies.module\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function SearchBody(_ref){var data=_ref.data;var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),isHovered=_React$useState2[0],setIsHovered=_React$useState2[1];var avatarUrl=data.avatarUrl,username=data.username,channelName=data.channelName,onPress=data.onPress,containerStyle=data.containerStyle,main=data.main,id=data.id;var name='admin';var password='root';var styles=useStyles();var deleteChat=function deleteChat(){fetch(\"https://messengerproject-production.up.railway.app/api/chats/delete/\"+id,{method:\"DELETE\",headers:{'Content-Type':'application/json','Authorization':\"Basic \"+btoa(name+\":\"+password)}}).then(function(response){if(response.ok){alert(\"Chat deleted successfully\");window.location.reload();}else{console.log(\"Failed to delete chat\");}}).catch(function(error){console.error(\"Error deleting chat:\",error);});};return _jsx(TouchableHighlight,{style:[styles.container,containerStyle,isHovered&&{backgroundColor:\"#E7DEDE\"}],onPress:onPress,onMouseEnter:function onMouseEnter(){return setIsHovered(true);},onMouseLeave:function onMouseLeave(){return setIsHovered(false);},children:_jsxs(View,{style:styles.rowContainer,children:[avatarUrl&&_jsxs(View,{style:styles.avatarContainer,children:[_jsx(ShowAvatar,{imageUrl:avatarUrl}),_jsx(Text,{style:styles.username,children:username})]}),!avatarUrl&&_jsx(Text,{style:styles.channelName,children:username}),main&&_jsx(View,{style:[styles.deleteContainer,{transform:[{scale:0.5}]}],children:_jsx(TouchableHighlight,{onPress:deleteChat,children:_jsx(DeleteSvg,{})})})]})});}","map":{"version":3,"names":["React","View","StyleSheet","Text","TouchableHighlight","Image","ShowAvatar","DeleteSvg","useStyles","jsx","_jsx","jsxs","_jsxs","SearchBody","_ref","data","_React$useState","useState","_React$useState2","_slicedToArray","isHovered","setIsHovered","avatarUrl","username","channelName","onPress","containerStyle","main","id","name","password","styles","deleteChat","fetch","method","headers","btoa","then","response","ok","alert","window","location","reload","console","log","catch","error","style","container","backgroundColor","onMouseEnter","onMouseLeave","children","rowContainer","avatarContainer","imageUrl","deleteContainer","transform","scale"],"sources":["C:/Users/ilias/OneDrive/Рабочий стол/messenger_project/Application/Client/components/searchBodies/searchBody.js"],"sourcesContent":["import React from \"react\";\r\nimport { View, StyleSheet, Text, TouchableHighlight, Image } from \"react-native-web\";\r\nimport ShowAvatar from \"../Avatar/ShowAvatar/showAvatar\";\r\nimport DeleteSvg from \"../../assets/icons/deleteSvg\";\r\nimport useStyles from \"./searchBodies.module\";\r\n\r\nexport default function SearchBody({ data }) {\r\n  const [isHovered, setIsHovered] = React.useState(false);\r\n  const { avatarUrl, username, channelName, onPress, containerStyle, main, id} = data;\r\n  const name = 'admin';\r\n  const password = 'root';\r\n  const styles = useStyles();\r\n  const deleteChat = () => {\r\n    \r\n    fetch(`https://messengerproject-production.up.railway.app/api/chats/delete/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Basic ${btoa(`${name}:${password}`)}`,\r\n      },\r\n    })\r\n      .then(response => {\r\n        // Handle the response\r\n        if (response.ok) {\r\n          // Chat deleted successfully\r\n          alert(\"Chat deleted successfully\");\r\n          window.location.reload();\r\n        } else {\r\n          // Error deleting chat\r\n          console.log(\"Failed to delete chat\");\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.error(\"Error deleting chat:\", error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <TouchableHighlight\r\n      style={[styles.container, containerStyle, isHovered && { backgroundColor: \"#E7DEDE\" }]}\r\n      onPress={onPress}\r\n      onMouseEnter={() => setIsHovered(true)}\r\n      onMouseLeave={() => setIsHovered(false)}\r\n    >\r\n      <View style={styles.rowContainer}>\r\n        {avatarUrl && (\r\n          <View style={styles.avatarContainer}>\r\n            <ShowAvatar imageUrl={avatarUrl} />\r\n            <Text style={styles.username}>{username}</Text>\r\n          </View>\r\n        )}\r\n        {!avatarUrl && <Text style={styles.channelName}>{username}</Text>}\r\n        {main && (\r\n          <View style={[styles.deleteContainer, { transform: [{ scale: 0.5 }] }]}>\r\n            <TouchableHighlight onPress={deleteChat}>\r\n              <DeleteSvg />\r\n            </TouchableHighlight>\r\n          </View>\r\n        )}\r\n      </View>\r\n    </TouchableHighlight>\r\n  );\r\n}\r\n\r\n\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}