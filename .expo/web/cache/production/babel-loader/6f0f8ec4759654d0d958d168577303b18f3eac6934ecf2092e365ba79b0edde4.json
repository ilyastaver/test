{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{createContext,useEffect,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";export var MessageContext=createContext();export var MessageProvider=function MessageProvider(_ref){var children=_ref.children;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),forwardedMessages=_useState2[0],setForwardedMessages=_useState2[1];useEffect(function(){var storedMessages=localStorage.getItem('forwardedMessages');if(storedMessages){setForwardedMessages(JSON.parse(storedMessages));}},[]);useEffect(function(){localStorage.setItem('forwardedMessages',JSON.stringify(forwardedMessages));},[forwardedMessages]);var addForwardedMessage=function addForwardedMessage(message){setForwardedMessages(function(prevMessages){return[].concat(_toConsumableArray(prevMessages),[message]);});};var clearForwardedMessages=function clearForwardedMessages(){setForwardedMessages([]);};return _jsx(MessageContext.Provider,{value:{forwardedMessages:forwardedMessages,addForwardedMessage:addForwardedMessage,clearForwardedMessages:clearForwardedMessages},children:children});};","map":{"version":3,"names":["React","createContext","useEffect","useState","jsx","_jsx","MessageContext","MessageProvider","_ref","children","_useState","_useState2","_slicedToArray","forwardedMessages","setForwardedMessages","storedMessages","localStorage","getItem","JSON","parse","setItem","stringify","addForwardedMessage","message","prevMessages","concat","_toConsumableArray","clearForwardedMessages","Provider","value"],"sources":["C:/Users/ilias/OneDrive/Рабочий стол/messenger_project/Application/Client/context/MessageContext.js"],"sourcesContent":["import React, { createContext, useEffect, useState } from 'react';\r\n\r\nexport const MessageContext = createContext();\r\n\r\nexport const MessageProvider = ({ children }) => {\r\n  const [forwardedMessages, setForwardedMessages] = useState([]);\r\n\r\n  useEffect(() => {\r\n    // Load forwarded messages from localStorage on component mount\r\n    const storedMessages = localStorage.getItem('forwardedMessages');\r\n    if (storedMessages) {\r\n      setForwardedMessages(JSON.parse(storedMessages));\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // Save forwarded messages to localStorage whenever it changes\r\n    localStorage.setItem('forwardedMessages', JSON.stringify(forwardedMessages));\r\n  }, [forwardedMessages]);\r\n\r\n  const addForwardedMessage = (message) => {\r\n    setForwardedMessages((prevMessages) => [...prevMessages, message]);\r\n  };\r\n\r\n  const clearForwardedMessages = () => {\r\n    setForwardedMessages([]);\r\n  };\r\n\r\n  return (\r\n    <MessageContext.Provider value={{ forwardedMessages, addForwardedMessage, clearForwardedMessages }}>\r\n      {children}\r\n    </MessageContext.Provider>\r\n  );\r\n};\r\n"],"mappings":"0IAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAElE,MAAO,IAAM,CAAAC,cAAc,CAAGL,aAAa,CAAC,CAAC,CAE7C,MAAO,IAAM,CAAAM,eAAe,CAAG,QAAlB,CAAAA,eAAeA,CAAAC,IAAA,CAAqB,IAAf,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CACxC,IAAAC,SAAA,CAAkDP,QAAQ,CAAC,EAAE,CAAC,CAAAQ,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAvDG,iBAAiB,CAAAF,UAAA,IAAEG,oBAAoB,CAAAH,UAAA,IAE9CT,SAAS,CAAC,UAAM,CAEd,GAAM,CAAAa,cAAc,CAAGC,YAAY,CAACC,OAAO,CAAC,mBAAmB,CAAC,CAChE,GAAIF,cAAc,CAAE,CAClBD,oBAAoB,CAACI,IAAI,CAACC,KAAK,CAACJ,cAAc,CAAC,CAAC,CAClD,CACF,CAAC,CAAE,EAAE,CAAC,CAENb,SAAS,CAAC,UAAM,CAEdc,YAAY,CAACI,OAAO,CAAC,mBAAmB,CAAEF,IAAI,CAACG,SAAS,CAACR,iBAAiB,CAAC,CAAC,CAC9E,CAAC,CAAE,CAACA,iBAAiB,CAAC,CAAC,CAEvB,GAAM,CAAAS,mBAAmB,CAAG,QAAtB,CAAAA,mBAAmBA,CAAIC,OAAO,CAAK,CACvCT,oBAAoB,CAAC,SAACU,YAAY,WAAAC,MAAA,CAAAC,kBAAA,CAASF,YAAY,GAAED,OAAO,IAAC,CAAC,CACpE,CAAC,CAED,GAAM,CAAAI,sBAAsB,CAAG,QAAzB,CAAAA,sBAAsBA,CAAA,CAAS,CACnCb,oBAAoB,CAAC,EAAE,CAAC,CAC1B,CAAC,CAED,MACE,CAAAT,IAAA,CAACC,cAAc,CAACsB,QAAQ,EAACC,KAAK,CAAE,CAAEhB,iBAAiB,CAAjBA,iBAAiB,CAAES,mBAAmB,CAAnBA,mBAAmB,CAAEK,sBAAsB,CAAtBA,sBAAuB,CAAE,CAAAlB,QAAA,CAChGA,QAAQ,CACc,CAAC,CAE9B,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}