{"ast":null,"code":"import{useEffect,useState}from'react';import React,{useContext}from'react';import View from\"react-native-web/dist/exports/View\";import Image from\"react-native-web/dist/exports/Image\";import useStyles from\"./showAvatar.module\";import Text from\"react-native-web/dist/exports/Text\";import PlusSvg from\"../../../assets/icons/plusSvg\";import{ImageContext}from\"../../../context/ImageContext\";import AuthContext from\"../../../context/AuthContext\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function ShowAvatar(_ref){var imageUrl=_ref.imageUrl,profile=_ref.profile;var styles=useStyles({profile:profile});var _useContext=useContext(ImageContext),selectedImage=_useContext.selectedImage;var _useContext2=useContext(AuthContext),user=_useContext2.user;var renderAvatar=function renderAvatar(){if(imageUrl&&imageUrl.startsWith('data:image')){return _jsx(Image,{style:styles.image,source:{uri:imageUrl}});}else if(imageUrl){return _jsx(Image,{style:styles.image,source:{uri:\"data:image/jpeg;base64,\"+imageUrl}});}else if(user.image){var base64Image=\"data:image/jpeg;base64,\"+user.image;return _jsx(Image,{style:styles.image,source:{uri:base64Image}});}else{return _jsx(View,{style:styles.nonePhoto,children:_jsx(PlusSvg,{style:{transform:[{scale:0.5}]}})});}};return _jsx(View,{style:styles.container,children:_jsx(View,{style:styles.round,children:renderAvatar()})});}","map":{"version":3,"names":["useEffect","useState","React","useContext","View","Image","useStyles","Text","PlusSvg","ImageContext","AuthContext","jsx","_jsx","ShowAvatar","_ref","imageUrl","profile","styles","_useContext","selectedImage","_useContext2","user","renderAvatar","startsWith","style","image","source","uri","base64Image","nonePhoto","children","transform","scale","container","round"],"sources":["C:/Users/ilias/OneDrive/Рабочий стол/messenger_project/Application/Client/components/Avatar/ShowAvatar/showAvatar.js"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport React, { useContext } from 'react';\r\nimport { View, Image } from 'react-native-web';\r\nimport useStyles from './showAvatar.module';\r\nimport { Text } from 'react-native';\r\nimport PlusSvg from '../../../assets/icons/plusSvg';\r\nimport { ImageContext } from '../../../context/ImageContext';\r\nimport AuthContext from '../../../context/AuthContext';\r\n\r\nexport default function ShowAvatar({ imageUrl, profile, }) {\r\n  const styles = useStyles({ profile });\r\n  const { selectedImage } = useContext(ImageContext);\r\n  const { user } = useContext(AuthContext); // Use `useContext` instead of `useState`\r\n\r\n  const renderAvatar = () => {\r\n    if (imageUrl && imageUrl.startsWith('data:image')) {\r\n      return <Image style={styles.image} source={{ uri: imageUrl }} />;\r\n    } else if (imageUrl) {\r\n      return <Image style={styles.image} source={{ uri: `data:image/jpeg;base64,${imageUrl}` }} />;\r\n    } else if (user.image) {\r\n      const base64Image = `data:image/jpeg;base64,${user.image}`;\r\n      return <Image style={styles.image} source={{ uri: base64Image }} />;\r\n    } else {\r\n      return (\r\n        <View style={styles.nonePhoto}>\r\n          <PlusSvg style={{ transform: [{ scale: 0.5 }] }} />\r\n        </View>\r\n      );\r\n    }\r\n  };\r\n  return (\r\n    <View style={styles.container}>\r\n      <View style={styles.round}>\r\n      {renderAvatar()}\r\n      </View>\r\n    </View>\r\n  );\r\n}\r\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,CAAAC,KAAK,EAAIC,UAAU,KAAQ,OAAO,CAAC,OAAAC,IAAA,iDAAAC,KAAA,2CAE1C,MAAO,CAAAC,SAAS,2BAA4B,OAAAC,IAAA,0CAE5C,MAAO,CAAAC,OAAO,qCACd,OAASC,YAAY,qCACrB,MAAO,CAAAC,WAAW,oCAAqC,OAAAC,GAAA,IAAAC,IAAA,yBAEvD,cAAe,SAAS,CAAAC,UAAUA,CAAAC,IAAA,CAAyB,IAAtB,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CAAEC,OAAO,CAAAF,IAAA,CAAPE,OAAO,CACpD,GAAM,CAAAC,MAAM,CAAGX,SAAS,CAAC,CAAEU,OAAO,CAAPA,OAAQ,CAAC,CAAC,CACrC,IAAAE,WAAA,CAA0Bf,UAAU,CAACM,YAAY,CAAC,CAA1CU,aAAa,CAAAD,WAAA,CAAbC,aAAa,CACrB,IAAAC,YAAA,CAAiBjB,UAAU,CAACO,WAAW,CAAC,CAAhCW,IAAI,CAAAD,YAAA,CAAJC,IAAI,CAEZ,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAA,CAAS,CACzB,GAAIP,QAAQ,EAAIA,QAAQ,CAACQ,UAAU,CAAC,YAAY,CAAC,CAAE,CACjD,MAAO,CAAAX,IAAA,CAACP,KAAK,EAACmB,KAAK,CAAEP,MAAM,CAACQ,KAAM,CAACC,MAAM,CAAE,CAAEC,GAAG,CAAEZ,QAAS,CAAE,CAAE,CAAC,CAClE,CAAC,IAAM,IAAIA,QAAQ,CAAE,CACnB,MAAO,CAAAH,IAAA,CAACP,KAAK,EAACmB,KAAK,CAAEP,MAAM,CAACQ,KAAM,CAACC,MAAM,CAAE,CAAEC,GAAG,2BAA4BZ,QAAW,CAAE,CAAE,CAAC,CAC9F,CAAC,IAAM,IAAIM,IAAI,CAACI,KAAK,CAAE,CACrB,GAAM,CAAAG,WAAW,2BAA6BP,IAAI,CAACI,KAAO,CAC1D,MAAO,CAAAb,IAAA,CAACP,KAAK,EAACmB,KAAK,CAAEP,MAAM,CAACQ,KAAM,CAACC,MAAM,CAAE,CAAEC,GAAG,CAAEC,WAAY,CAAE,CAAE,CAAC,CACrE,CAAC,IAAM,CACL,MACE,CAAAhB,IAAA,CAACR,IAAI,EAACoB,KAAK,CAAEP,MAAM,CAACY,SAAU,CAAAC,QAAA,CAC5BlB,IAAA,CAACJ,OAAO,EAACgB,KAAK,CAAE,CAAEO,SAAS,CAAE,CAAC,CAAEC,KAAK,CAAE,GAAI,CAAC,CAAE,CAAE,CAAE,CAAC,CAC/C,CAAC,CAEX,CACF,CAAC,CACD,MACE,CAAApB,IAAA,CAACR,IAAI,EAACoB,KAAK,CAAEP,MAAM,CAACgB,SAAU,CAAAH,QAAA,CAC5BlB,IAAA,CAACR,IAAI,EAACoB,KAAK,CAAEP,MAAM,CAACiB,KAAM,CAAAJ,QAAA,CACzBR,YAAY,CAAC,CAAC,CACT,CAAC,CACH,CAAC,CAEX"},"metadata":{},"sourceType":"module","externalDependencies":[]}