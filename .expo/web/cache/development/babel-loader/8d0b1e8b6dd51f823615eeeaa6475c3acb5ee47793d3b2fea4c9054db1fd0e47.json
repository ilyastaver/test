{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"value\", \"setValue\", \"results\"];\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function SearchInput(_ref) {\n  var value = _ref.value,\n    setValue = _ref.setValue,\n    results = _ref.results,\n    data = _objectWithoutProperties(_ref, _excluded);\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isFocused = _useState2[0],\n    setIsFocused = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    isClearVisible = _useState4[0],\n    setIsClearVisible = _useState4[1];\n  var styles = useStyles();\n  var handleFocus = function handleFocus() {\n    setIsFocused(true);\n    setIsClearVisible(true);\n  };\n  var handleBlur = function handleBlur() {\n    setIsFocused(false);\n  };\n  var handleClear = function handleClear() {\n    setValue(\"\");\n    setIsFocused(false);\n    setIsClearVisible(false);\n  };\n  var handleSearchBodyPress = function handleSearchBodyPress() {\n    setIsFocused(false);\n    setIsClearVisible(false);\n  };\n  var handleInputChange = function handleInputChange(text) {\n    setValue(text);\n    setIsClearVisible(text.length > 0);\n  };\n  var filteredResults = value ? results.filter(function (result) {\n    return result.name.toLowerCase().includes(value.toLowerCase());\n  }) : results;\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(View, {\n      style: styles.icon,\n      children: _jsx(SearchSvg, {})\n    }), _jsx(TextInput, _objectSpread(_objectSpread({}, data), {}, {\n      placeholderTextColor: \"#7C858E\",\n      value: value,\n      style: [styles.input, {\n        paddingLeft: 36\n      }],\n      onFocus: handleFocus,\n      onBlur: handleBlur,\n      onChangeText: handleInputChange\n    })), isClearVisible && _jsx(TouchableHighlight, {\n      onPress: handleClear,\n      children: _jsx(CrossSvg, {\n        style: styles.dismissIcon\n      })\n    }), isFocused && _jsx(ScrollView, {\n      style: styles.dropdown,\n      children: filteredResults.map(function (result, index) {\n        return _jsx(SearchBody, {\n          data: {\n            avatarUrl: result.avatar || null,\n            username: result.name,\n            onPress: handleSearchBodyPress\n          }\n        }, index);\n      })\n    })]\n  });\n}","map":{"version":3,"names":["SearchInput","_ref","value","setValue","results","data","_objectWithoutProperties","_excluded","_useState","useState","_useState2","_slicedToArray","isFocused","setIsFocused","_useState3","_useState4","isClearVisible","setIsClearVisible","styles","useStyles","handleFocus","handleBlur","handleClear","handleSearchBodyPress","handleInputChange","text","length","filteredResults","filter","result","name","toLowerCase","includes","_jsxs","View","style","container","children","_jsx","icon","SearchSvg","TextInput","_objectSpread","placeholderTextColor","input","paddingLeft","onFocus","onBlur","onChangeText","TouchableHighlight","onPress","CrossSvg","dismissIcon","ScrollView","dropdown","map","index","SearchBody","avatarUrl","avatar","username"],"sources":["C:/Users/ilias/OneDrive/Рабочий стол/messenger_project/Application/Client/components/inputs/searchInput/searchInput.js"],"sourcesContent":["export default function SearchInput({ value, setValue, results, ...data }) {\r\n  const [isFocused, setIsFocused] = useState(false);\r\n  const [isClearVisible, setIsClearVisible] = useState(false);\r\n  const styles = useStyles();\r\n\r\n  const handleFocus = () => {\r\n    setIsFocused(true);\r\n    setIsClearVisible(true);\r\n  };\r\n\r\n  const handleBlur = () => {\r\n    setIsFocused(false);\r\n  };\r\n\r\n  const handleClear = () => {\r\n    setValue(\"\");\r\n    setIsFocused(false);\r\n    setIsClearVisible(false);\r\n  };\r\n\r\n  const handleSearchBodyPress = () => {\r\n    setIsFocused(false);\r\n    setIsClearVisible(false);\r\n  };\r\n\r\n  const handleInputChange = (text) => {\r\n    setValue(text);\r\n    setIsClearVisible(text.length > 0);\r\n  };\r\n\r\n  const filteredResults = value\r\n    ? results.filter((result) => result.name.toLowerCase().includes(value.toLowerCase()))\r\n    : results;\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <View style={styles.icon}>\r\n        <SearchSvg />\r\n      </View>\r\n      <TextInput\r\n        {...data}\r\n        placeholderTextColor={\"#7C858E\"}\r\n        value={value}\r\n        style={[styles.input, { paddingLeft: 36 }]}\r\n        onFocus={handleFocus}\r\n        onBlur={handleBlur}\r\n        onChangeText={handleInputChange}\r\n      />\r\n      {isClearVisible && (\r\n        <TouchableHighlight onPress={handleClear}>\r\n          <CrossSvg style={styles.dismissIcon} />\r\n        </TouchableHighlight>\r\n      )}\r\n      {isFocused && (\r\n        <ScrollView style={styles.dropdown}>\r\n          {filteredResults.map((result, index) => (\r\n            <SearchBody\r\n              key={index}\r\n              data={{\r\n                avatarUrl: result.avatar || null,\r\n                username: result.name,\r\n                onPress: handleSearchBodyPress,\r\n              }}\r\n            />\r\n          ))}\r\n        </ScrollView>\r\n      )}\r\n    </View>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}