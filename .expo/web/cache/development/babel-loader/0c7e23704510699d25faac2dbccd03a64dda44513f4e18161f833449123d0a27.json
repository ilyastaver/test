{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport React, { useContext, useState, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport ChangeSvg from \"../../assets/icons/changeSvg\";\nimport DeleteSvg from \"../../assets/icons/deleteSvg\";\nimport AdminSvg from \"../../assets/icons/adminSvg\";\nimport AdminFocusSvg from \"../../assets/icons/adminFocusSvg\";\nimport HeaderButton from \"../buttons/headerButton\";\nimport DataInput from \"../inputs/textInput/textInput\";\nimport AuthContext from \"../../context/AuthContext\";\nimport axios from 'axios';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function SettingsBody(_ref) {\n  var data = _ref.data;\n  var role = data.role,\n    name = data.name,\n    onPress = data.onPress,\n    containerStyle = data.containerStyle,\n    creator = data.creator,\n    channelId = data.channelId;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isHovered = _useState2[0],\n    setIsHovered = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    showPopup = _useState4[0],\n    setShowPopup = _useState4[1];\n  var _useContext = useContext(AuthContext),\n    user = _useContext.user;\n  var _useState5 = useState({\n      nickname: '',\n      role: role\n    }),\n    _useState6 = _slicedToArray(_useState5, 2),\n    inputText = _useState6[0],\n    setInputText = _useState6[1];\n  var _useState7 = useState(true),\n    _useState8 = _slicedToArray(_useState7, 2),\n    isAdmin = _useState8[0],\n    setIsAdmin = _useState8[1];\n  var _useState9 = useState(false),\n    _useState10 = _slicedToArray(_useState9, 2),\n    isCurrentUser = _useState10[0],\n    setIsCurrentUser = _useState10[1];\n  var _useState11 = useState(true),\n    _useState12 = _slicedToArray(_useState11, 2),\n    isRoleEditable = _useState12[0],\n    setIsRoleEditable = _useState12[1];\n  var _useState13 = useState(false),\n    _useState14 = _slicedToArray(_useState13, 2),\n    isDeleteDisabled = _useState14[0],\n    setIsDeleteDisabled = _useState14[1];\n  var username = 'admin';\n  var password = 'root';\n  useEffect(function () {\n    var currentUser = channelId.members.find(function (member) {\n      return member.user.id === user.id;\n    });\n    setIsCurrentUser(!!currentUser);\n    if (currentUser) {\n      var _currentUser$role, _currentUser$role2;\n      setIsAdmin(((_currentUser$role = currentUser.role) == null ? void 0 : _currentUser$role.isAdmin) || false);\n      setIsRoleEditable(!((_currentUser$role2 = currentUser.role) != null && _currentUser$role2.isAdmin) && !creator);\n      setIsDeleteDisabled(!(currentUser.isCreator || isAdmin && !creator));\n    }\n  }, [channelId, user]);\n  var handleDelete = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      try {\n        var url = \"http://localhost:8080/api/channels/\" + channelId.id + \"/leave?username=\" + name;\n        var response = yield axios.delete(url, {\n          auth: {\n            username: username,\n            password: password\n          }\n        });\n        console.log('Delete request sent successfully');\n        console.log(response.data);\n      } catch (error) {\n        console.error('Error sending delete request:', error);\n      }\n    });\n    return function handleDelete() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var isFormValid = inputText.role;\n  var handleAdminClick = function handleAdminClick() {\n    if (isCurrentUser && (creator || !isAdmin)) {\n      setIsAdmin(!isAdmin);\n    }\n  };\n  var handleRoleChange = function handleRoleChange(role) {\n    setShowPopup(true);\n    if (isCurrentUser && (creator || !isAdmin) && !role.isAdmin) {\n      setInputText(_objectSpread(_objectSpread({}, inputText), {}, {\n        role: role\n      }));\n    }\n  };\n  var handleSaveChanges = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      var url = 'http://localhost:8080/api/roles/create';\n      var requestBody = {\n        name: inputText.role,\n        isAdmin: isAdmin,\n        username: name,\n        channelName: channelId.name\n      };\n      try {\n        var response = yield axios.post(url, requestBody, {\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: \"Basic \" + btoa(username + \":\" + password)\n          }\n        });\n        if (response.ok) {\n          console.log('Role created successfully');\n        } else {\n          console.log('Failed to create role');\n          console.log(channelId.name);\n        }\n      } catch (error) {\n        console.error('Error creating role:', error);\n      }\n      setShowPopup(false);\n    });\n    return function handleSaveChanges() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  return _jsxs(TouchableOpacity, {\n    style: [styles.container, containerStyle, isHovered && {\n      backgroundColor: '#E7DEDE'\n    }],\n    onMouseEnter: function onMouseEnter() {\n      return setIsHovered(true);\n    },\n    onMouseLeave: function onMouseLeave() {\n      return setIsHovered(false);\n    },\n    disabled: isDeleteDisabled,\n    children: [_jsxs(View, {\n      style: styles.content,\n      children: [!creator && _jsx(DeleteSvg, {\n        disabled: isDeleteDisabled\n      }), _jsx(Text, {\n        style: styles.username,\n        children: name\n      }), _jsx(Text, {\n        style: styles.role,\n        children: inputText.role\n      }), !creator && _jsx(TouchableOpacity, {\n        disabled: !isRoleEditable,\n        onPress: handleRoleChange,\n        children: _jsx(ChangeSvg, {})\n      })]\n    }), _jsx(Modal, {\n      visible: showPopup,\n      transparent: true,\n      children: _jsxs(View, {\n        style: styles.popupContainer,\n        children: [_jsx(Text, {\n          style: styles.text,\n          children: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0440\\u043E\\u043B\\u0438\"\n        }), _jsxs(View, {\n          style: styles.inputContainer,\n          children: [_jsx(DataInput, {\n            value: inputText.role,\n            setValue: function setValue(text) {\n              return setInputText(_objectSpread(_objectSpread({}, inputText), {}, {\n                role: text\n              }));\n            },\n            placeholder: '',\n            type: 'nickname',\n            flex: true,\n            editable: isRoleEditable\n          }), isCurrentUser && !creator && _jsx(TouchableOpacity, {\n            style: styles.adminButton,\n            onPress: handleAdminClick,\n            children: isAdmin ? _jsx(AdminFocusSvg, {}) : _jsx(AdminSvg, {})\n          })]\n        }), _jsx(View, {\n          children: _jsx(TouchableOpacity, {\n            onPress: function onPress() {\n              return setShowPopup(false);\n            },\n            children: _jsx(HeaderButton, {\n              title: 'Назначить',\n              onPress: handleSaveChanges,\n              disabled: !isFormValid\n            })\n          })\n        })]\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    backgroundColor: '#FFFFFF',\n    borderRadius: 26,\n    paddingVertical: 12,\n    paddingHorizontal: 16\n  },\n  text: {\n    fontFamily: 'Montserrat-Regular',\n    color: '#000000',\n    fontSize: 24,\n    textAlign: 'center',\n    marginBottom: 13\n  },\n  content: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    flex: 1\n  },\n  username: {\n    fontFamily: 'Montserrat-Regular',\n    fontSize: 24,\n    color: '#000000',\n    marginLeft: 40\n  },\n  role: {\n    fontFamily: 'Montserrat-Regular',\n    fontSize: 24,\n    color: '#0076B9',\n    marginLeft: 40,\n    marginRight: 40\n  },\n  inputContainer: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  popupContainer: {\n    backgroundColor: '#E7DEDE',\n    borderRadius: 35,\n    padding: 20,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 2,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 7,\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: [{\n      translateX: '-50%'\n    }, {\n      translateY: '-50%'\n    }],\n    width: '30%',\n    height: '30%',\n    justifyContent: 'center',\n    alignItems: 'center',\n    flexDirection: 'column'\n  }\n});","map":{"version":3,"names":["React","useContext","useState","useEffect","View","StyleSheet","Text","TouchableOpacity","Image","Modal","ChangeSvg","DeleteSvg","AdminSvg","AdminFocusSvg","HeaderButton","DataInput","AuthContext","axios","jsx","_jsx","jsxs","_jsxs","SettingsBody","_ref","data","role","name","onPress","containerStyle","creator","channelId","_useState","_useState2","_slicedToArray","isHovered","setIsHovered","_useState3","_useState4","showPopup","setShowPopup","_useContext","user","_useState5","nickname","_useState6","inputText","setInputText","_useState7","_useState8","isAdmin","setIsAdmin","_useState9","_useState10","isCurrentUser","setIsCurrentUser","_useState11","_useState12","isRoleEditable","setIsRoleEditable","_useState13","_useState14","isDeleteDisabled","setIsDeleteDisabled","username","password","currentUser","members","find","member","id","_currentUser$role","_currentUser$role2","isCreator","handleDelete","_ref2","_asyncToGenerator","url","response","delete","auth","console","log","error","apply","arguments","isFormValid","handleAdminClick","handleRoleChange","_objectSpread","handleSaveChanges","_ref3","requestBody","channelName","post","headers","Authorization","btoa","ok","style","styles","container","backgroundColor","onMouseEnter","onMouseLeave","disabled","children","content","visible","transparent","popupContainer","text","inputContainer","value","setValue","placeholder","type","flex","editable","adminButton","title","create","borderRadius","paddingVertical","paddingHorizontal","fontFamily","color","fontSize","textAlign","marginBottom","flexDirection","alignItems","justifyContent","marginLeft","marginRight","padding","shadowColor","shadowOffset","width","height","shadowOpacity","shadowRadius","elevation","position","top","left","transform","translateX","translateY"],"sources":["C:/Users/ilias/OneDrive/Рабочий стол/messenger_project/Application/Client/components/settingsBody/settingsBody.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\r\nimport {\r\n    View,\r\n    StyleSheet,\r\n    Text,\r\n    TouchableOpacity,\r\n    Image,\r\n    Modal,\r\n} from \"react-native-web\";\r\nimport ChangeSvg from \"../../assets/icons/changeSvg\";\r\nimport DeleteSvg from \"../../assets/icons/deleteSvg\";\r\nimport AdminSvg from \"../../assets/icons/adminSvg\";\r\nimport AdminFocusSvg from \"../../assets/icons/adminFocusSvg\";\r\nimport HeaderButton from \"../buttons/headerButton\";\r\nimport DataInput from \"../inputs/textInput/textInput\";\r\nimport AuthContext from \"../../context/AuthContext\";\r\nimport axios from 'axios';\r\n\r\n\r\nexport default function SettingsBody({ data }) {\r\n    const { role, name, onPress, containerStyle, creator, channelId } = data;\r\n    const [isHovered, setIsHovered] = useState(false);\r\n    const [showPopup, setShowPopup] = useState(false);\r\n    const { user } = useContext(AuthContext);\r\n    const [inputText, setInputText] = useState({\r\n      nickname: '',\r\n      role: role,\r\n    });\r\n    const [isAdmin, setIsAdmin] = useState(true);\r\n    const [isCurrentUser, setIsCurrentUser] = useState(false);\r\n    const [isRoleEditable, setIsRoleEditable] = useState(true);\r\n    const [isDeleteDisabled, setIsDeleteDisabled] = useState(false);\r\n    const username = 'admin';\r\n    const password = 'root';\r\n  \r\n    useEffect(() => {\r\n      // Check if the user is the current user and set the flags accordingly\r\n      const currentUser = channelId.members.find((member) => member.user.id === user.id);\r\n      setIsCurrentUser(!!currentUser);\r\n      if (currentUser) {\r\n        setIsAdmin(currentUser.role?.isAdmin || false);\r\n        setIsRoleEditable(!currentUser.role?.isAdmin && !creator);\r\n        setIsDeleteDisabled(!(currentUser.isCreator || (isAdmin && !creator)));\r\n      }\r\n    }, [channelId, user]);\r\n  \r\n    const handleDelete = async () => {\r\n        \r\n      try {\r\n        const url = `http://localhost:8080/api/channels/${channelId.id}/leave?username=${name}`;\r\n        const response = await axios.delete(url, {\r\n          auth: {\r\n            username: username,\r\n            password: password,\r\n          },\r\n        });\r\n        console.log('Delete request sent successfully');\r\n        console.log(response.data); // Optional: Log the response data\r\n      } catch (error) {\r\n        console.error('Error sending delete request:', error);\r\n      }\r\n    };\r\n  \r\n    const isFormValid = inputText.role;\r\n  \r\n    const handleAdminClick = () => {\r\n      // Only allow toggling of admin role if the current user is the creator or admin is false and the member is not an admin\r\n      if (isCurrentUser && (creator || !isAdmin)) {\r\n        setIsAdmin(!isAdmin);\r\n      }\r\n    };\r\n  \r\n    const handleRoleChange = (role) => {\r\n        setShowPopup(true);\r\n      if (isCurrentUser && (creator || !isAdmin) && !role.isAdmin) {\r\n        setInputText({ ...inputText, role: role });\r\n      }\r\n    };\r\n  \r\n    const handleSaveChanges = async () => {\r\n      const url = 'http://localhost:8080/api/roles/create';\r\n  \r\n      const requestBody = {\r\n        name: inputText.role,\r\n        isAdmin: isAdmin,\r\n        username: name,\r\n        channelName: channelId.name,\r\n      };\r\n  \r\n      try {\r\n        const response = await axios.post(url, requestBody, {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Basic ${btoa(`${username}:${password}`)}`,\r\n          },\r\n        });\r\n  \r\n        if (response.ok) {\r\n          console.log('Role created successfully');\r\n        } else {\r\n          console.log('Failed to create role');\r\n          console.log(channelId.name);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error creating role:', error);\r\n      }\r\n  \r\n      setShowPopup(false);\r\n    };\r\n  \r\n    return (\r\n      <TouchableOpacity\r\n        style={[\r\n          styles.container,\r\n          containerStyle,\r\n          isHovered && { backgroundColor: '#E7DEDE' },\r\n        ]}\r\n        onMouseEnter={() => setIsHovered(true)}\r\n        onMouseLeave={() => setIsHovered(false)}\r\n        disabled={isDeleteDisabled}\r\n        \r\n      >\r\n        <View style={styles.content}>\r\n          {!creator && <DeleteSvg disabled={isDeleteDisabled} />}\r\n  \r\n          <Text style={styles.username}>{name}</Text>\r\n          <Text style={styles.role}>{inputText.role}</Text>\r\n  \r\n          {!creator && (\r\n            <TouchableOpacity\r\n              disabled={!isRoleEditable}\r\n              onPress={handleRoleChange}\r\n            >\r\n              <ChangeSvg />\r\n            </TouchableOpacity>\r\n          )}\r\n        </View>\r\n  \r\n        <Modal visible={showPopup} transparent={true}>\r\n          <View style={styles.popupContainer}>\r\n            <Text style={styles.text}>Название роли</Text>\r\n            <View style={styles.inputContainer}>\r\n              <DataInput\r\n                value={inputText.role}\r\n                setValue={(text) =>\r\n                  setInputText({ ...inputText, role: text })\r\n                }\r\n                placeholder={''}\r\n                type={'nickname'}\r\n                flex={true}\r\n                editable={isRoleEditable}\r\n              />\r\n              {isCurrentUser && !creator && (\r\n                <TouchableOpacity\r\n                  style={styles.adminButton}\r\n                  onPress={handleAdminClick}\r\n                >\r\n                  {isAdmin ? <AdminFocusSvg /> : <AdminSvg />}\r\n                </TouchableOpacity>\r\n              )}\r\n            </View>\r\n            <View>\r\n              <TouchableOpacity onPress={() => setShowPopup(false)}>\r\n                <HeaderButton\r\n                  title={'Назначить'}\r\n                  onPress={handleSaveChanges}\r\n                  disabled={!isFormValid}\r\n                />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </Modal>\r\n      </TouchableOpacity>\r\n    );\r\n  }\r\n  \r\n  const styles = StyleSheet.create({\r\n    container: {\r\n      backgroundColor: '#FFFFFF',\r\n      borderRadius: 26,\r\n      paddingVertical: 12,\r\n      paddingHorizontal: 16,\r\n    },\r\n    text: {\r\n      fontFamily: 'Montserrat-Regular',\r\n      color: '#000000',\r\n      fontSize: 24,\r\n      textAlign: 'center',\r\n      marginBottom: 13,\r\n    },\r\n    content: {\r\n      flexDirection: 'row',\r\n      alignItems: 'center',\r\n      justifyContent: 'space-between',\r\n      flex: 1,\r\n    },\r\n    username: {\r\n      fontFamily: 'Montserrat-Regular',\r\n      fontSize: 24,\r\n      color: '#000000',\r\n      marginLeft: 40,\r\n    },\r\n    role: {\r\n      fontFamily: 'Montserrat-Regular',\r\n      fontSize: 24,\r\n      color: '#0076B9',\r\n      marginLeft: 40,\r\n      marginRight: 40,\r\n    },\r\n    inputContainer: {\r\n      flexDirection: 'row',\r\n      alignItems: 'center',\r\n    },\r\n    popupContainer: {\r\n      backgroundColor: '#E7DEDE',\r\n      borderRadius: 35,\r\n      padding: 20,\r\n      shadowColor: '#000',\r\n      shadowOffset: { width: 2, height: 2 },\r\n      shadowOpacity: 0.25,\r\n      shadowRadius: 3.84,\r\n      elevation: 7,\r\n      position: 'absolute',\r\n      top: '50%', // set top to 50%\r\n      left: '50%', // set left to 50%\r\n      transform: [\r\n        { translateX: '-50%' },\r\n        { translateY: '-50%' },\r\n      ], // adjust position based on element size\r\n      width: '30%',\r\n      height: '30%',\r\n      justifyContent: 'center',\r\n      alignItems: 'center',\r\n      flexDirection: 'column', // add this line to make items centered in a column\r\n    },\r\n  });\r\n  \r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}